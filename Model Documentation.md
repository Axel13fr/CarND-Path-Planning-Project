

**Path Planning Project**

--- 
### Finding and planning trajectory 

#### 1. The decision making Logic

The car has 3 simple possible states to drive around on the highway: 
- Driving : staying on the same lane at maximum allowed speed 
- Car Following : staying on the same lane but adapting speed to the vehicle in front on the same lane to avoid any collision
- Overtaking : maneuvering at a speed below maximum for safety and change lane 

Driving transitions to Car Following as soon as the distance to the next same lane front vehicle is lower than a safety distance.

Car Following transitions to Overtaking as soon as one of the adjacent lane (good side of the road of coure !) allows enough distance to the next 
vehicle at the rear and at the front to overtake.

Car Following transitions back to Driving if the distance to the next front vehicle is big enough to be safe again.

Overtaking transits back to driving as soon as the vehicle d position in frenet coordinates is close enough to the target lane to make sure the 
lane change is over.

[//]: # (Image References)

[image1]: ./examples/undistort_output.png "Undistorted"


#### 2. The path Generation

My approach is mostly based on the one exposed in the project walkthrough video with some extra refinements, parameters and tuning.
Here is how it goes:
- 2 far spaced points are generated in front of the vehicle simply by adding an s distance in Frenet coordinates to the current car s position and using the target lane d
- to allow easier computations for spline fitting, these 2 points along with the current and previous car position are transformed into car coordinates
- these 4 points are then used to fit a spline, which allows for a smooth trajectory
- to get more than 4 points onto the spline, x values are generated by linearly interpolating between the 4 points
- the spacing between points is based on the car target speed so that the car will go at a given speed by simply following the points
- these interpolated x values gives y values, leading to N (x,y) spline points in car coordinates
- these points are transformed back into world coordinates and given to the planner
- the simulator is given 40 points to follow at every update step

To combat all king of jerks, a few tweaks have been introduced including:
- using a different distance to generate the far spaced reference points of the trajectory : 50/100m for lane change to give a smoother trajectory than other in other states where more reactivity is needed : 30/60m
- smooth speed transition by applying an exponential law as follow : speed set_point = previous_speed + speed_delta*(1-exp(-t/T)). The speed given to the point interpolation gradually adds up on the previous speed so that for a change from 30 to 50mph, we add 30 + 5, 30 + 8, 30 + 10.... up to 30+20.


